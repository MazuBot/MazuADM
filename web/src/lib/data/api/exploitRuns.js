import { fetchJson } from './index.js'

export const exploitRuns = (challengeId, teamId) => {
  const params = new URLSearchParams()
  if (challengeId) params.set('challenge_id', challengeId)
  if (teamId) params.set('team_id', teamId)
  const qs = params.toString()
  return fetchJson('/exploit-runs' + (qs ? '?' + qs : ''))
}
export const createExploitRun = (data) => fetchJson('/exploit-runs', { method: 'POST', body: JSON.stringify(data) })
export const updateExploitRun = (id, data) => fetchJson(`/exploit-runs/${id}`, { method: 'PUT', body: JSON.stringify(data) })
export const deleteExploitRun = (id) => fetchJson(`/exploit-runs/${id}`, { method: 'DELETE' })
export const reorderExploitRuns = (updates) =>
  fetchJson('/exploit-runs/reorder', { method: 'POST', body: JSON.stringify(updates) })
